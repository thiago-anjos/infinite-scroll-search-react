{"version":3,"sources":["api/api.js","components/list/list1.js","App.js","index.js"],"names":["api","Axios","create","baseURL","Header","useState","users","setUsers","isloading","setIsloading","hasMore","setHasMore","search","setSearch","load","a","get","then","response","nextUsers","data","results","map","user","email","name","Object","values","join","photo","picture","medium","username","login","uuid","concat","length","console","log","getDocHeight","D","document","Math","max","body","scrollHeight","documentElement","offsetHeight","clientHeight","useEffect","firstLoad","setFirstLoad","window","onscroll","innerHeight","scrollTop","handleSearch","useCallback","e","value","target","filter","person","toLowerCase","id","type","onChange","key","src","alt","class","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"0RAMeA,E,OAJHC,EAAMC,OAAO,CACrBC,QAAS,0C,MC+FEC,MA9Ff,WAAkB,IAAD,EAEaC,mBAAS,IAFtB,mBAENC,EAFM,KAECC,EAFD,OAGqBF,oBAAS,GAH9B,mBAGNG,EAHM,KAGKC,EAHL,OAIiBJ,oBAAS,GAJ1B,mBAINK,EAJM,KAIGC,EAJH,OAKeN,mBAAS,IALxB,mBAKNO,EALM,KAKEC,EALF,cAeEC,IAfF,2EAeb,sBAAAC,EAAA,6DACIN,GAAa,GADjB,kBAGcT,EAAIgB,MAAMC,MAAM,SAAAC,GAClB,IAAMC,EAAYD,EAASE,KAAKC,QAAQC,KAAI,SAAAC,GAAI,MAAK,CACjDC,MAAOD,EAAKC,MACZC,KAAMC,OAAOC,OAAOJ,EAAKE,MAAMG,KAAK,KACpCC,MAAON,EAAKO,QAAQC,OACpBC,SAAUT,EAAKU,MAAMD,SACrBE,KAAMX,EAAKU,MAAMC,SAEnB3B,EAASD,EAAM6B,OAAOhB,OAXpC,OAaQR,EAAWL,EAAM8B,OAAS,KAC1B3B,GAAa,GAdrB,gDAgBQ4B,QAAQC,IAAR,MAhBR,0DAfa,sBAmCb,SAASC,IACL,IAAIC,EAAIC,SACR,OAAOC,KAAKC,IACRH,EAAEI,KAAKC,aAAcL,EAAEM,gBAAgBD,aACvCL,EAAEI,KAAKG,aAAcP,EAAEM,gBAAgBC,aACvCP,EAAEI,KAAKI,aAAcR,EAAEM,gBAAgBE,cAjC/CC,qBAAU,WACNnC,MACF,IAEFmC,qBAAU,WACNpC,EAAU,YAAIP,MAChB,CAACA,IAbU,MA4CqBD,mBAAS,GA5C9B,mBA4CN6C,EA5CM,KA4CKC,EA5CL,KA8CbC,OAAOC,SAAW,WAEd,GADAhB,QAAQC,IAAIY,GACK,IAAdA,GACC,GAAGE,OAAOE,YAAcb,SAASK,gBAAgBS,WAAahB,IAAe,CAIzE,GAHAY,EAAa,GACbd,QAAQC,IAAI,iCACZD,QAAQC,IAAR,qBAA0B9B,EAA1B,uBAAkDE,IAC9CF,IAAcE,EAAS,OAC3BI,UAGJ,GAAGsC,OAAOE,YAAcb,SAASK,gBAAgBS,UAAY,GAAKhB,IAAe,CAG7E,GAFAF,QAAQC,IAAI,yBACZD,QAAQC,IAAR,qBAA0B9B,EAA1B,uBAAkDE,IAC9CF,IAAcE,EAAS,OAC3BI,MAMZ,IAAM0C,EAAeC,uBAAY,SAACC,GAC9B,IAAMC,EAAQD,EAAEE,OAAOD,MACjBtC,EAAUf,EAAMuD,QAAO,SAAAC,GAAM,OACc,IAA7CA,EAAOrC,KAAKsC,cAAcnD,OAAO+C,MAErC9C,EAAUQ,KACZ,CAACf,IAGH,OACI,yBAAK0D,GAAG,aACJ,2BAAOC,KAAK,OAAOC,SAAUV,IAC7B,4BACK5C,EAAOU,KAAK,SAAAC,GAAI,OACb,wBAAI4C,IAAK5C,EAAKW,MAAd,SACWX,EAAKE,KACZ,6BACA,yBAAK2C,IAAK7C,EAAKM,MAAOwC,IAAK9C,EAAKE,aAI7B,IAAdjB,EAAqB,yBAAK8D,MAAM,kBAAyB,KC/EvDC,MAPf,WAEE,OACM,kBAAC,EAAD,OCLRC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFjC,SAASkC,eAAe,W","file":"static/js/main.565ace6b.chunk.js","sourcesContent":["import Axios from 'axios';\r\n\r\nconst api = Axios.create({\r\n    baseURL: 'https://randomuser.me/api/?results=15'\r\n})\r\n\r\nexport default api;\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport api from '../../api/api';\r\nimport './style.css'\r\n\r\nfunction Header(){\r\n\r\n    const [users, setUsers] = useState([]);\r\n    const [isloading, setIsloading] = useState(false);\r\n    const [hasMore, setHasMore] = useState(true);\r\n    const [search, setSearch] = useState([])\r\n\r\n    useEffect(()=>{ \r\n        load();\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        setSearch([...users])\r\n    },[users])\r\n\r\n    async function load(){\r\n        setIsloading(true);\r\n        try{\r\n            await api.get().then( response =>{\r\n                const nextUsers = response.data.results.map(user => ({\r\n                    email: user.email,\r\n                    name: Object.values(user.name).join(' '),\r\n                    photo: user.picture.medium,\r\n                    username: user.login.username,\r\n                    uuid: user.login.uuid,\r\n                  }));\r\n                  setUsers(users.concat(nextUsers))        \r\n            })\r\n            setHasMore(users.length < 1000);\r\n            setIsloading(false);\r\n        }catch(error){\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    function getDocHeight() {\r\n        var D = document;\r\n        return Math.max(\r\n            D.body.scrollHeight, D.documentElement.scrollHeight,\r\n            D.body.offsetHeight, D.documentElement.offsetHeight,\r\n            D.body.clientHeight, D.documentElement.clientHeight\r\n        );\r\n    }\r\n\r\n    const [firstLoad, setFirstLoad] = useState(0)\r\n\r\n    window.onscroll = () =>{\r\n        console.log(firstLoad)\r\n        if(firstLoad === 0){\r\n            if(window.innerHeight + document.documentElement.scrollTop >= getDocHeight()){\r\n                setFirstLoad(1)\r\n                console.log('fim da página igual a zero')\r\n                console.log(`isloading: ${isloading} / hasMore: ${hasMore}`)\r\n                if (isloading || !hasMore) return;\r\n                load();\r\n            }\r\n        }else{\r\n            if(window.innerHeight + document.documentElement.scrollTop + 1 >= getDocHeight()){\r\n                console.log('fim da página else')\r\n                console.log(`isloading: ${isloading} / hasMore: ${hasMore}`)\r\n                if (isloading || !hasMore) return;\r\n                load();\r\n            }            \r\n        }\r\n        \r\n    }\r\n\r\n    const handleSearch = useCallback((e)=>{\r\n        const value = e.target.value;\r\n        const results = users.filter(person =>\r\n            person.name.toLowerCase().search(value) !== -1\r\n        );\r\n        setSearch(results);\r\n    },[users])\r\n\r\n\r\n    return(\r\n        <div id=\"container\">\r\n            <input type=\"text\" onChange={handleSearch}></input>\r\n            <ul>\r\n                {search.map( user =>(\r\n                    <li key={user.uuid}>\r\n                        Nome: {user.name}\r\n                        <br/>\r\n                        <img src={user.photo} alt={user.name}></img>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n            {isloading === true ? <div class=\"lds-dual-ring\"></div> : ''}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n\r\n","import React  from 'react';\nimport './assets/style.css';\nimport UsersList1 from './components/list/list1';\n//import Book from './components/book';\n\n\nfunction App() {\n\n  return (\n        <UsersList1/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}